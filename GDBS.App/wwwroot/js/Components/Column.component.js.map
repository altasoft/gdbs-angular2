{"version":3,"sources":["Components/Column.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;YAOA;gBAII,yBACY,QAAoB,EACpB,SAAmB,EACnB,GAAW;oBAFX,aAAQ,GAAR,QAAQ,CAAY;oBACpB,cAAS,GAAT,SAAS,CAAU;oBACnB,QAAG,GAAH,GAAG,CAAQ;oBANvB,sBAAiB,GAAG,EAAE,CAAC;oBACvB,eAAU,GAAG,KAAK,CAAC;gBAMnB,CAAC;gBAED,kCAAQ,GAAR;oBACI,IAAI,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;oBAE3E,IAAI,CAAC,iBAAiB,GAAG,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;gBAChE,CAAC;gBAED,yCAAe,GAAf;oBACI,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;wBAClD,IAAI,OAAO,GAAG,EAAE,CAAC;wBACjB,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,aAAa,CAAC,CAAA;wBAExF,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE;4BACjC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC;wBAEpD,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;oBACrC,CAAC;oBAED,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;wBAChB,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBAEzG,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;gBACvC,CAAC;gBAED,mCAAS,GAAT,UAAU,IAAa;oBACnB,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,CAAC;wBAClB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBAE3B,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC;gBAC9G,CAAC;gBA1CL;oBAAC,gBAAS,CAAC;wBACP,SAAS,EAAE,CAAC,iBAAQ,CAAC;qBACxB,CAAC;;mCAAA;gBAyCF,sBAAC;YAAD,CAvCA,AAuCC,IAAA;YAvCD,6CAuCC,CAAA","file":"Components/Column.component.js","sourcesContent":["import {Component, OnInit, ElementRef} from 'angular2/core';\r\nimport {Location} from 'angular2/router';\r\n\r\n@Component({\r\n    providers: [Location]\r\n})\r\n\r\nexport class ColumnComponent implements OnInit {\r\n    columnsVisibility = {};\r\n    configMode = false;\r\n\r\n    constructor(\r\n        private _element: ElementRef,\r\n        private _location: Location,\r\n        private _id: string) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        var columns = localStorage.getItem(this._location.path() + '#' + this._id);\r\n\r\n        this.columnsVisibility = columns ? JSON.parse(columns) : {};\r\n    }\r\n\r\n    showHideColumns() {\r\n        if (Object.keys(this.columnsVisibility).length == 0) {\r\n            var columns = {};\r\n            var cells = this._element.nativeElement.querySelectorAll('#' + this._id + ' td[column]')\r\n\r\n            for (var i = 0; i < cells.length; i++)\r\n                columns[cells[i].getAttribute('column')] = true;\r\n\r\n            this.columnsVisibility = columns;\r\n        }\r\n\r\n        if (this.configMode)\r\n            localStorage.setItem(this._location.path() + '#' + this._id, JSON.stringify(this.columnsVisibility));\r\n\r\n        this.configMode = !this.configMode;\r\n    }\r\n\r\n    isVisible(name?: string) {\r\n        if (name == undefined)\r\n            return this.configMode;\r\n\r\n        return Object.keys(this.columnsVisibility).length == 0 || this.columnsVisibility[name] || this.configMode;\r\n    }\r\n}"],"sourceRoot":"/Source"}