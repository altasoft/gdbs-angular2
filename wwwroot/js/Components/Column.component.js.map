{"version":3,"sources":["Components/Column.component.ts"],"names":["ColumnComponent","ColumnComponent.constructor","ColumnComponent.ngOnInit","ColumnComponent.showHideColumns","ColumnComponent.isVisible"],"mappings":";;;;;;;;;;;;;;;;;;;;;YAGA;gBAQIA,yBACYA,QAAoBA,EACpBA,SAAmBA,EACnBA,GAAWA;oBAFXC,aAAQA,GAARA,QAAQA,CAAYA;oBACpBA,cAASA,GAATA,SAASA,CAAUA;oBACnBA,QAAGA,GAAHA,GAAGA,CAAQA;oBANvBA,YAAOA,GAAGA,EAAEA,CAACA;oBACbA,eAAUA,GAAGA,KAAKA,CAACA;gBAMnBA,CAACA;gBAEDD,kCAAQA,GAARA;oBACIE,IAAIA,OAAOA,GAAGA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,SAASA,CAACA,IAAIA,EAAEA,GAAGA,GAAGA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,CAACA;oBAE3EA,IAAIA,CAACA,OAAOA,GAAGA,OAAOA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,GAAGA,EAAEA,CAACA;gBACtDA,CAACA;gBAEDF,yCAAeA,GAAfA;oBACIG,EAAEA,CAACA,CAACA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,MAAMA,IAAIA,CAACA,CAACA,CAACA,CAACA;wBACxCA,IAAIA,OAAOA,GAAGA,EAAEA,CAACA;wBACjBA,IAAIA,KAAKA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,aAAaA,CAACA,gBAAgBA,CAACA,GAAGA,GAAGA,IAAIA,CAACA,GAAGA,GAAGA,aAAaA,CAACA,CAAAA;wBAExFA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,EAAEA;4BACjCA,OAAOA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,YAAYA,CAACA,QAAQA,CAACA,CAACA,GAAGA,IAAIA,CAACA;wBAEpDA,IAAIA,CAACA,OAAOA,GAAGA,OAAOA,CAACA;oBAC3BA,CAACA;oBAEDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,UAAUA,CAACA;wBAChBA,YAAYA,CAACA,OAAOA,CAACA,IAAIA,CAACA,SAASA,CAACA,IAAIA,EAAEA,GAAGA,GAAGA,GAAGA,IAAIA,CAACA,GAAGA,EAAEA,IAAIA,CAACA,SAASA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBAE/FA,IAAIA,CAACA,UAAUA,GAAGA,CAACA,IAAIA,CAACA,UAAUA,CAACA;gBACvCA,CAACA;gBAEDH,mCAASA,GAATA,UAAUA,IAAaA;oBACnBI,EAAEA,CAACA,CAACA,IAAIA,IAAIA,SAASA,CAACA;wBAClBA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA;oBAE3BA,MAAMA,CAACA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,MAAMA,IAAIA,CAACA,IAAIA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,CAACA,IAAIA,IAAIA,CAACA,UAAUA,CAACA;gBAC1FA,CAACA;gBA1CLJ;oBAACA,gBAASA,CAACA;wBACPA,SAASA,EAAEA,CAACA,iBAAQA,CAACA;qBACxBA,CAACA;;oCAyCDA;gBAADA,sBAACA;YAADA,CA3CA,AA2CCA,IAAA;YA3CD,6CA2CC,CAAA","file":"Components/Column.component.js","sourcesContent":["import {Component, OnInit, ElementRef} from 'angular2/core';\nimport {Location} from 'angular2/router';\n\n@Component({\n    providers: [Location]\n})\n\nexport class ColumnComponent implements OnInit {\n    columns = {};\n    configMode = false;\n\n    constructor(\n        private _element: ElementRef,\n        private _location: Location,\n        private _id: string) {\n    }\n\n    ngOnInit() {\n        var columns = localStorage.getItem(this._location.path() + '#' + this._id);\n\n        this.columns = columns ? JSON.parse(columns) : {};\n    }\n\n    showHideColumns() {\n        if (Object.keys(this.columns).length == 0) {\n            var columns = {};\n            var cells = this._element.nativeElement.querySelectorAll('#' + this._id + ' td[column]')\n\n            for (var i = 0; i < cells.length; i++)\n                columns[cells[i].getAttribute('column')] = true;\n\n            this.columns = columns;\n        }\n\n        if (this.configMode)\n            localStorage.setItem(this._location.path() + '#' + this._id, JSON.stringify(this.columns));\n\n        this.configMode = !this.configMode;\n    }\n\n    isVisible(name?: string) {\n        if (name == undefined)\n            return this.configMode;\n\n        return Object.keys(this.columns).length == 0 || this.columns[name] || this.configMode;\n    }\n}"],"sourceRoot":"/Source"}